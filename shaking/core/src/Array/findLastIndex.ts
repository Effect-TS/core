import type { Predicate } from "../Function"
import type { Option } from "../Option/Option"
import { findLastIndex as findLastIndex_1 } from "../Readonly/Array/findLastIndex"

/**
 * Returns the index of the last element of the list which matches the predicate
 *
 * @example
 * import { findLastIndex } from 'fp-ts/lib/Array'
 * import { some, none } from 'fp-ts/lib/Option'
 *
 * interface X {
 *   a: number
 *   b: number
 * }
 * const xs: Array<X> = [{ a: 1, b: 0 }, { a: 1, b: 1 }]
 * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 1)(xs), some(1))
 * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 4)(xs), none)
 */
export const findLastIndex: <A>(
  predicate: Predicate<A>
) => (as: Array<A>) => Option<number> = findLastIndex_1
